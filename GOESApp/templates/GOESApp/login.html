{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOES - God On Every Side | Login</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="login-style.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
      /* Global Styles */
          body {
              font-family: 'Montserrat', sans-serif;
              background-color: #f8f9fa;
              color: #333;
              min-height: 100vh;
              padding-top: 76px; /* Height of navbar */
          }

          /* Login Container */
          .login-container {
              background-color: #fff;
              border-radius: 12px;
              overflow: hidden;
              box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
              margin: 20px 0;
          }

          /* Brand Side */
          .brand-side {
              background-image: url("{% static 'images/landscape/GOES409335LS02.png' %}");
              background-size: cover;
              background-position: center;
              position: relative;
              min-height: 550px;
          }

          .brand-overlay {
              position: absolute;
              top: 0;
              left: 0;
              right: 0;
              bottom: 0;
              background: linear-gradient(135deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.5) 100%);
          }

          .brand-content {
              position: relative;
              z-index: 2;
              padding: 40px;
              color: white;
              height: 100%;
              display: flex;
              flex-direction: column;
              justify-content: space-between;
          }

          .logo-container {
              text-align: center;
              margin-bottom: 20px;
          }

          .brand-logo {
              max-width: 150px;
              height: auto;
              margin-bottom: 15px;
          }

          .brand-text {
              text-align: center;
          }

          .brand-name {
              font-size: 3.5rem;
              font-weight: 700;
              letter-spacing: 2px;
              margin-bottom: 0;
          }

          .brand-tagline {
              font-size: 1.2rem;
              font-weight: 300;
              letter-spacing: 1px;
              opacity: 0.9;
          }

          .brand-quote {
              margin-top: auto;
              font-style: italic;
              opacity: 0.8;
              font-size: 1.1rem;
              border-left: 3px solid white;
              padding-left: 15px;
          }

          /* Form Side */
          .form-side {
              padding: 40px;
              display: flex;
              flex-direction: column;
              justify-content: center;
          }

          .logo-mobile {
              text-align: center;
              margin-bottom: 30px;
          }

          .mobile-logo {
              max-width: 100px;
              height: auto;
              margin-bottom: 10px;
          }

          .logo-mobile h2 {
              font-weight: 700;
              margin-bottom: 0;
              letter-spacing: 1px;
          }

          .logo-mobile p {
              font-size: 0.9rem;
              opacity: 0.8;
          }

          .welcome-text {
              font-weight: 600;
              margin-bottom: 10px;
              color: #333;
          }

          .form-subtitle {
              color: #777;
              margin-bottom: 30px;
          }

          /* Form Elements */
          .form-label {
              font-weight: 500;
              font-size: 0.9rem;
              color: #555;
          }

          .form-control {
              padding: 12px 15px;
              border: 1px solid #ddd;
              border-radius: 8px;
              font-size: 0.95rem;
              transition: all 0.3s ease;
          }

          .form-control:focus {
              border-color: #333;
              box-shadow: 0 0 0 0.2rem rgba(0, 0, 0, 0.1);
          }

          .form-check-label {
              font-size: 0.85rem;
              color: #666;
          }

          .form-check-input:checked {
              background-color: #333;
              border-color: #333;
          }

          .forgot-link {
              font-size: 0.85rem;
              color: #555;
              text-decoration: none;
              transition: color 0.3s ease;
          }

          .forgot-link:hover {
              color: #000;
              text-decoration: underline;
          }

          /* Button */
          .btn-login {
              background-color: #333;
              color: white;
              padding: 12px;
              font-weight: 600;
              letter-spacing: 1px;
              border-radius: 8px;
              transition: all 0.3s ease;
          }

          .btn-login:hover {
              background-color: #222;
              transform: translateY(-2px);
              box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
          }

          /* Links */
          a {
              color: #333;
              text-decoration: none;
              font-weight: 500;
              transition: color 0.3s ease;
          }

          a:hover {
              color: #000;
          }

          .signup-link {
              font-size: 0.9rem;
              color: #777;
          }

          /* Navbar Styles */
          .navbar {
              box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
              transition: all 0.3s ease;
          }

          .navbar-nav .nav-link {
              font-weight: 500;
              color: #333;
              padding: 0.5rem 1rem;
              transition: color 0.3s ease;
          }

          .navbar-nav .nav-link:hover {
              color: #000;
          }

          .dropdown-menu {
              border: none;
              box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
              border-radius: 8px;
          }

          .dropdown-item {
              font-weight: 500;
              padding: 8px 20px;
              transition: all 0.2s ease;
          }

          .dropdown-item:hover {
              background-color: #f8f9fa;
              transform: translateX(5px);
          }

          /* Offcanvas Styles */
          .offcanvas {
              transition: transform 0.3s ease-in-out;
          }

          .offcanvas-end {
              width: 300px;
          }

          .offcanvas-header {
              border-bottom: 1px solid #eee;
          }

          .offcanvas-title {
              font-weight: 700;
              letter-spacing: 1px;
          }

          /* Responsive Adjustments */
          @media (max-width: 767px) {
              .form-side {
                  padding: 30px 20px;
              }
              
              .brand-side {
                  min-height: 200px;
              }
              
              .brand-content {
                  padding: 20px;
                  text-align: center;
              }
              
              .brand-name {
                  font-size: 2.5rem;
              }
              
              .brand-quote {
                  display: none;
              }

              /* Mobile navbar adjustments */
              .navbar-nav {
                  margin-bottom: 20px;
              }

              .offcanvas-body .navbar-nav .nav-link {
                  padding: 12px 0;
                  border-bottom: 1px solid #f1f1f1;
              }

              .offcanvas-body .dropdown-menu {
                  box-shadow: none;
                  border: 1px solid #f1f1f1;
                  margin-left: 10px;
              }
          }
    </style>
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white py-0 fixed-top">
        <div class="container">
            <div class="mcb-column-inner mfn-module-wrapper mcb-column-inner-hh9pp43d mcb-item-header_logo-inner">
                <a class="logo-wrapper" href="{% url 'home' %}">
                    <img style="width:100px;" src="{% static 'images/LOGO_20_TRANS[1].png'%}" alt="GOES" />
                </a>
            </div>
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#navMenu" aria-controls="navMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="navMenu" aria-labelledby="navMenuLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="navMenuLabel">GOES</h5>
                    <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="collectionsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Shop
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="collectionsDropdown">
                                {% for category in categories %}
                                    <li><a class="dropdown-item" href="{% url 'shop' %}?category={{ category.id }}">{{ category.name }}</a></li>
                                {% endfor %}
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'our_story' %}">Our Story</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'lookbook' %}">Look book</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav ms-auto align-items-center">
                        {% if user.is_authenticated %}
                            <li class="nav-item me-3">
                                <a class="nav-link position-relative" href="{% url 'cart' %}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                                        <path d="M0 1.5A.5.5 0 0 1 .5 1h1a.5.5 0 0 1 .485.379L2.89 5H14.5a.5.5 0 0 1 .49.598l-1.5 6A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L1.01 2H.5a.5.5 0 0 1-.5-.5zM3.14 6l1.25 5h8.356l1.25-5H3.14z"/>
                                        <path d="M6 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm7 1a1 1 0 1 1 -2 0 1 1 0 0 1 2 0z"/>
                                    </svg>
                                    {% if cart_count > 0 %}
                                        <span class="badge bg-secondary position-absolute top-0 start-100 translate-middle">{{ cart_count }}</span>
                                    {% endif %}
                                </a>
                            </li>
                            <li class="nav-item me-3">
                                <a class="nav-link" href="{% url 'profile' %}" title="Your Account">
                                    <i class="bi bi-person-circle" style="font-size: 1.5rem;"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="btn btn-outline-danger" href="{% url 'logout_user' %}">Logout</a>
                            </li>
                        {% else %}
                            <li class="nav-item me-3">
                                <a class="nav-link position-relative" href="{% url 'cart' %}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                                        <path d="M0 1.5A.5.5 0 0 1 .5 1h1a.5.5 0 0 1 .485.379L2.89 5H14.5a.5.5 0 0 1 .49.598l-1.5 6A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L1.01 2H.5a.5.5 0 0 1-.5-.5zM3.14 6l1.25 5h8.356l1.25-5H3.14z"/>
                                        <path d="M6 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm7 1a1 1 0 1 1 -2 0 1 1 0 0 1 2 0z"/>
                                    </svg>
                                    {% if cart_count > 0 %}
                                        <span class="badge bg-secondary position-absolute top-0 start-100 translate-middle">{{ cart_count }}</span>
                                    {% endif %}
                                </a>
                            </li>
                            <li class="nav-item me-3"><a class="btn btn-outline-primary" href="{% url 'login_user' %}">Login</a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <div class="container" style="margin-top: 100px;">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="login-container">
                    <div class="row g-0">
                        <!-- Brand Image Side -->
                        <div class="col-md-6 brand-side">
                            <div class="brand-overlay"></div>
                            <div class="brand-content">
                                {% comment %} <div class="logo-container">
                                    <img src="{% static 'images/LOGO_ISOTYPE_WHITE_TRANS[1].png'%}" alt="GOES Logo" class="brand-logo">
                                </div> {% endcomment %}
                                {% comment %} <div class="brand-text">
                                    <h1 class="brand-name">GOES</h1>
                                    <p class="brand-tagline">God On Every Side</p>
                                </div> {% endcomment %}
                                <div class="brand-quote">
                                    <p>"Elegance is the only beauty that never fades."</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Form Side -->
                        <div class="col-md-6 form-side">
                            <div class="form-header">

                                <h2 class="welcome-text">Welcome Back</h2>
                                <p class="form-subtitle">Login to access your account and explore our latest collections.</p>
                            </div>
                            
                            <form class="login-form" id="login-form" action="{% url 'login_user' %}" method="POST">
                                {% csrf_token %}
                                {% if messages %}
                                  {% for message in messages %}
                                    <p class="error-message">{{ message }}</p>
                                  {% endfor %}
                                {% endif %}
                                <div class="mb-4">
                                    <label for="email" class="form-label">Email Address</label>
                                    <input type="email" class="form-control" id="email" name="email" placeholder="Enter your email" required>
                                </div>
                                
                                <div class="mb-4">
                                    <label for="password" class="form-label">Password</label>
                                    <input type="password" name="password" class="form-control" id="password" placeholder="Enter your password" required>
                                    <span class="toggle-password" onclick="togglePassword('password')">👁️</span>
                                </div>
                                
                                <div class="d-flex justify-content-between mb-4">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="remember">
                                        <label class="form-check-label" for="remember">
                                            Remember me
                                        </label>
                                    </div>
                                    <a href="{% url 'password_reset' %}" class="forgot-link">Forgot Password?</a>
                                </div>
                                
                                <button type="submit" class="btn btn-login w-100">LOGIN</button>
                                
                                <div class="signup-link mt-4 text-center">
                                    Don't have an account? <a href="{% url 'register' %}">Sign up</a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      function togglePassword(id) {
        const input = document.getElementById(id);
        const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
        input.setAttribute('type', type);
      }
    </script>
</body>
</html>